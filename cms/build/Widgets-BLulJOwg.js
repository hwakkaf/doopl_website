import{bJ as f,a as c,j as e,b,ai as T,bd as k,bj as w,bf as v,bk as l,a6 as p,bK as E,T as d,bL as C,I as D,a_ as L,g as M,k as R}from"./strapi-C6et94I1.js";import{W as o}from"./WidgetHelpers-61FmLImS.js";const N=f.injectEndpoints({overrideExisting:!0,endpoints:a=>({getRecentDocuments:a.query({query:s=>`/admin/homepage/recent-documents?action=${s.action}`,transformResponse:s=>s.data,providesTags:(s,n,{action:i})=>[{type:"RecentDocumentList",id:i}]})})}),{useGetRecentDocumentsQuery:x}=N,u=R(d).attrs({maxWidth:"14.4rem",display:"block"})`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,h=({documents:a})=>{const{formatMessage:s}=c(),{trackUsage:n}=b(),i=T(),g=t=>{const r=t.kind==="singleType",m=r?"single-types":"collection-types",y=t.locale?`?plugins[i18n][locale]=${t.locale}`:"";return`/content-manager/${m}/${t.contentTypeUid}${r?"":"/"+t.documentId}${y}`},j=t=>()=>{n("willEditEntryFromHome");const r=g(t);i(r)};return e.jsx(k,{colCount:5,rowCount:a?.length??0,children:e.jsx(w,{children:a?.map(t=>e.jsxs(v,{onClick:j(t),cursor:"pointer",children:[e.jsx(l,{children:e.jsx(u,{title:t.title,variant:"omega",textColor:"neutral800",children:t.title})}),e.jsx(l,{children:e.jsx(u,{variant:"omega",textColor:"neutral600",children:t.kind==="singleType"?s({id:"content-manager.widget.last-edited.single-type",defaultMessage:"Single-Type"}):s({id:t.contentTypeDisplayName,defaultMessage:t.contentTypeDisplayName})})}),e.jsx(l,{children:e.jsx(p,{display:"inline-block",children:t.status?e.jsx(E,{status:t.status}):e.jsx(d,{textColor:"neutral600","aria-hidden":!0,children:"-"})})}),e.jsx(l,{children:e.jsx(d,{textColor:"neutral600",children:e.jsx(C,{timestamp:new Date(t.updatedAt)})})}),e.jsx(l,{onClick:r=>r.stopPropagation(),children:e.jsx(p,{display:"inline-block",children:e.jsx(D,{tag:L,to:g(t),onClick:()=>n("willEditEntryFromHome"),label:s({id:"content-manager.actions.edit.label",defaultMessage:"Edit"}),variant:"ghost",children:e.jsx(M,{})})})})]},t.documentId))})})},W=()=>{const{formatMessage:a}=c(),{data:s,isLoading:n,error:i}=x({action:"update"});return n?e.jsx(o.Loading,{}):i||!s?e.jsx(o.Error,{}):s.length===0?e.jsx(o.NoData,{children:a({id:"content-manager.widget.last-edited.no-data",defaultMessage:"No edited entries"})}):e.jsx(h,{documents:s})},P=()=>{const{formatMessage:a}=c(),{data:s,isLoading:n,error:i}=x({action:"publish"});return n?e.jsx(o.Loading,{}):i||!s?e.jsx(o.Error,{}):s.length===0?e.jsx(o.NoData,{children:a({id:"content-manager.widget.last-published.no-data",defaultMessage:"No published entries"})}):e.jsx(h,{documents:s})};export{W as LastEditedWidget,P as LastPublishedWidget};
